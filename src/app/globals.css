/* Import theme FIRST so CSS variables are available */
@import '@skeletonlabs/skeleton/themes/crimson';
@import 'tailwindcss';
@import '@skeletonlabs/skeleton';
@import '@skeletonlabs/skeleton-react';

/* Configure dark mode to use class strategy */
@custom-variant dark (&:where(.dark, .dark *));

/* Custom overrides for mentor.energy */
@theme {
  /* Font families */
  --font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif;

  /* Breakpoints matching original */
  --breakpoint-sm: 640px;
  --breakpoint-md: 769px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;

  /* Surface colors from crimson theme for Tailwind utility generation */
  --color-surface-50: oklch(90.65% 0 264.68deg);
  --color-surface-100: oklch(80.46% 0.01 268.6deg);
  --color-surface-200: oklch(69.96% 0.01 271.26deg);
  --color-surface-300: oklch(58.9% 0.02 278.84deg);
  --color-surface-400: oklch(47.48% 0.03 277.42deg);
  --color-surface-500: oklch(35.33% 0.04 275.68deg);
  --color-surface-600: oklch(31.82% 0.03 277.05deg);
  --color-surface-700: oklch(28.12% 0.03 276.09deg);
  --color-surface-800: oklch(24.72% 0.03 274.9deg);
  --color-surface-900: oklch(20.75% 0.02 273.29deg);
  --color-surface-950: oklch(16.69% 0.02 275.16deg);

  /* Primary colors from crimson theme */
  --color-primary-50: oklch(88.86% 0.05 4.44deg);
  --color-primary-100: oklch(80.66% 0.09 5.94deg);
  --color-primary-200: oklch(72.91% 0.13 8.14deg);
  --color-primary-300: oklch(65.86% 0.17 10.24deg);
  --color-primary-400: oklch(59.91% 0.2 14.19deg);
  --color-primary-500: oklch(55.71% 0.21 19.55deg);
  --color-primary-600: oklch(50.91% 0.2 19.59deg);
  --color-primary-700: oklch(46.18% 0.18 19.26deg);
  --color-primary-800: oklch(41.14% 0.16 19.25deg);
  --color-primary-900: oklch(36.08% 0.14 18.61deg);
  --color-primary-950: oklch(30.55% 0.12 17.97deg);
}

/* Base styles - Skeleton uses scheme-light/dark:scheme-dark for color-scheme */
html {
  scroll-behavior: smooth;
  color-scheme: light;
}

html.dark {
  color-scheme: dark;
}

body {
  font-family: var(--font-sans);
  background-color: var(--body-background-color);
  color: var(--base-font-color);
}

html.dark body {
  background-color: var(--body-background-color-dark);
  color: var(--base-font-color-dark);
}

/* Custom component classes that extend Skeleton */
@layer components {
  /* Typography helpers */
  .h1 {
    @apply text-4xl font-bold tracking-tight md:text-5xl;
  }

  .h2 {
    @apply text-3xl font-bold tracking-tight md:text-4xl;
  }

  .h3 {
    @apply text-xl font-semibold md:text-2xl;
  }

  /* Button compatibility layer - maps to Skeleton presets */
  .btn-primary {
    @apply btn preset-filled-primary-500;
  }

  .btn-secondary {
    @apply btn preset-filled-surface-200-800;
  }

  .btn-ghost {
    @apply btn preset-tonal;
  }

  .btn-error {
    @apply btn preset-filled-error-500;
  }

  /* Input styling */
  .input {
    @apply w-full rounded-lg border px-4 py-2.5 text-sm preset-outlined-surface-200-800;
  }
}

/* Animations */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.5s ease-out;
}

.animate-slide-up {
  animation: slide-up 0.5s ease-out;
}

/* Ensure Cloudflare Turnstile widget is visible in Clerk forms */
.cl-rootBox,
.cl-card,
.cl-cardBox,
.cl-main,
.cl-form,
.cl-footer,
.cl-formButtonPrimary {
  overflow: visible !important;
}

/* Cloudflare Turnstile widget styling */
[data-testid="cf-turnstile"],
.cf-turnstile,
iframe[src*="challenges.cloudflare.com"] {
  display: block !important;
  visibility: visible !important;
  margin: 1rem auto !important;
}
